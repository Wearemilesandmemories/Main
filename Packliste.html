<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Komplette Packliste</title>
  <style>
    body {
      font-family: 'Helvetica Neue', Arial, sans-serif;
      background: transparent;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      margin: 0;
    }
    .packliste {
      width: 100%;
      max-width: 460px;
      background: linear-gradient(180deg, #ffffff 0%, #f8fafa 100%);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.06);
    }
    h2 {
      color: #444;
      font-weight: 500;
      text-align: center;
      margin-bottom: 20px;
    }
    .category {
      margin-bottom: 10px;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #e6e6e6;
    }
    .category-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      padding: 10px 12px;
      background: #fff;
      border-left: 4px solid #97B6B1;
      transition: background 0.2s ease, box-shadow 0.2s ease;
      font-weight: 500;
    }
    .category-header:hover {
      background: rgba(151,182,177,0.05);
      box-shadow: inset 0 0 4px rgba(151,182,177,0.2);
    }
    .counter { font-size: 13px; color: #6E8E88; }
    .arrow { width: 14px; height: 14px; fill: #6E8E88; transition: transform 0.3s ease; }
    .arrow.open { transform: rotate(90deg); }
    .item-list { max-height: 0; overflow: hidden; opacity: 0; transition: max-height 0.4s ease, opacity 0.4s ease; padding: 0 12px; }
    .item-list.open { max-height: 500px; opacity: 1; }
    li { display: flex; align-items: center; padding: 8px 0; font-size: 16px; font-weight: 400; color: #333; border-bottom: 1px solid #f0f0f0; }
    li:last-child { border-bottom: none; }
    input[type="checkbox"] { appearance: none; width: 18px; height: 18px; border: 2px solid #97B6B1; border-radius: 3px; margin-right: 10px; cursor: pointer; transition: all 0.3s ease; }
    input[type="checkbox"]:checked { background: #6E8E88; border-color: #97B6B1; }
    input[type="checkbox"]:checked::after { content: ""; position: absolute; width: 4px; height: 8px; border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg); }
    li.checked span { text-decoration: line-through; color: #777; }
  </style>
</head>
<body>

<div class="packliste">
  <h2>Komplette Packliste</h2>

  <!-- DOKUMENTE -->
  <div class="category" data-category="dokumente">
    <div class="category-header"><span>Dokumente</span><span class="counter">(0/5)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Reisepass</span></li>
      <li><input type="checkbox"><span>Visum (falls erforderlich)</span></li>
      <li><input type="checkbox"><span>Flugtickets</span></li>
      <li><input type="checkbox"><span>Versicherungsnachweis</span></li>
      <li><input type="checkbox"><span>Kreditkarten</span></li>
    </ul>
  </div>

  <!-- KLEIDUNG -->
  <div class="category" data-category="kleidung">
    <div class="category-header"><span>Kleidung</span><span class="counter">(0/6)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>T-Shirts</span></li>
      <li><input type="checkbox"><span>Hose / Shorts</span></li>
      <li><input type="checkbox"><span>Regenjacke</span></li>
      <li><input type="checkbox"><span>Badehose / Bikini</span></li>
      <li><input type="checkbox"><span>Unterwäsche</span></li>
      <li><input type="checkbox"><span>Leichte Schuhe / Flip-Flops</span></li>
    </ul>
  </div>

  <!-- TECHNIK -->
  <div class="category" data-category="technik">
    <div class="category-header"><span>Technik & Elektronik</span><span class="counter">(0/5)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Kamera</span></li>
      <li><input type="checkbox"><span>Ladegeräte</span></li>
      <li><input type="checkbox"><span>Powerbank</span></li>
      <li><input type="checkbox"><span>Reiseadapter</span></li>
      <li><input type="checkbox"><span>Kopfhörer</span></li>
    </ul>
  </div>

  <!-- HYGIENE -->
  <div class="category" data-category="hygiene">
    <div class="category-header"><span>Hygiene & Pflege</span><span class="counter">(0/5)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Zahnbürste & Zahnpasta</span></li>
      <li><input type="checkbox"><span>Duschgel / Shampoo</span></li>
      <li><input type="checkbox"><span>Deo</span></li>
      <li><input type="checkbox"><span>Sonnencreme</span></li>
      <li><input type="checkbox"><span>Handdesinfektion</span></li>
    </ul>
  </div>

  <!-- MEDIKAMENTE -->
  <div class="category" data-category="medikamente">
    <div class="category-header"><span>Medikamente</span><span class="counter">(0/4)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Persönliche Medikamente</span></li>
      <li><input type="checkbox"><span>Reiseapotheke (Pflaster, Schmerzmittel)</span></li>
      <li><input type="checkbox"><span>Mückenspray</span></li>
      <li><input type="checkbox"><span>Durchfallmittel</span></li>
    </ul>
  </div>

  <!-- REISEUTENSILIEN -->
  <div class="category" data-category="reiseutensilien">
    <div class="category-header"><span>Reiseutensilien</span><span class="counter">(0/5)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Koffer / Rucksack</span></li>
      <li><input type="checkbox"><span>Schloss</span></li>
      <li><input type="checkbox"><span>Packwürfel</span></li>
      <li><input type="checkbox"><span>Trinkflasche</span></li>
      <li><input type="checkbox"><span>Nackenkissen</span></li>
    </ul>
  </div>

  <!-- SONSTIGES -->
  <div class="category" data-category="sonstiges">
    <div class="category-header"><span>Sonstiges</span><span class="counter">(0/4)</span><svg class="arrow" viewBox="0 0 20 20"><path d="M7 5l5 5-5 5z"/></svg></div>
    <ul class="item-list">
      <li><input type="checkbox"><span>Reisehandtuch</span></li>
      <li><input type="checkbox"><span>Snacks</span></li>
      <li><input type="checkbox"><span>Bücher / Kindle</span></li>
      <li><input type="checkbox"><span>Notizbuch & Stift</span></li>
    </ul>
  </div>
</div>

<script>
  const STORAGE_KEY = "packliste_complete_v1";
  let savedStatus = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

  document.querySelectorAll(".category").forEach(category => {
    const list = category.querySelector(".item-list");
    const header = category.querySelector(".category-header");
    const arrow = category.querySelector(".arrow");
    const checkboxes = category.querySelectorAll("input[type='checkbox']");
    const counter = category.querySelector(".counter");
    const categoryKey = category.dataset.category;

    // Lade gespeicherten Status
    checkboxes.forEach((cb, idx) => {
      if (savedStatus[categoryKey]?.includes(idx)) {
        cb.checked = true;
        cb.closest("li").classList.add("checked");
      }
    });
    updateCounter();

    // Akkordeon
    header.addEventListener("click", () => {
      list.classList.toggle("open");
      arrow.classList.toggle("open");
    });

    // Checkbox + Speicherung
    checkboxes.forEach((cb, idx) => {
      cb.addEventListener("change", () => {
        cb.closest("li").classList.toggle("checked", cb.checked);
        if (!savedStatus[categoryKey]) savedStatus[categoryKey] = [];
        if (cb.checked) savedStatus[categoryKey].push(idx);
        else savedStatus[categoryKey] = savedStatus[categoryKey].filter(i => i !== idx);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(savedStatus));
        updateCounter();
      });
    });

    function updateCounter() {
      const total = checkboxes.length;
      const checked = Array.from(checkboxes).filter(c => c.checked).length;
      counter.textContent = `(${checked}/${total})`;
    }
  });
</script>

</body>
</html>
